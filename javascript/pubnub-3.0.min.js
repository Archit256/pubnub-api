function u(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function q(n){m.lastIndex=0;return m.test(n)?'"'+n.replace(m,function(i){var g=C[i];return typeof g==="string"?g:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function t(n,i){var g,j,k,x,y=l,o,e=i[n];if(e&&typeof e==="object"&&typeof e.toJSON==="function")e=e.toJSON(n);if(typeof s==="function")e=s.call(i,n,e);switch(typeof e){case "string":return q(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);
case "object":if(!e)return"null";l+=p;o=[];if(Object.prototype.toString.apply(e)==="[object Array]"){x=e.length;for(g=0;g<x;g+=1)o[g]=t(g,e)||"null";k=o.length===0?"[]":l?"[\n"+l+o.join(",\n"+l)+"\n"+y+"]":"["+o.join(",")+"]";l=y;return k}if(s&&typeof s==="object"){x=s.length;for(g=0;g<x;g+=1){j=s[g];if(typeof j==="string")if(k=t(j,e))o.push(q(j)+(l?": ":":")+k)}}else for(j in e)if(Object.hasOwnProperty.call(e,j))if(k=t(j,e))o.push(q(j)+(l?": ":":")+k);k=o.length===0?"{}":l?"{\n"+l+o.join(",\n"+l)+
"\n"+y+"}":"{"+o.join(",")+"}";l=y;return k}}window.JSON||(window.JSON={});if(typeof String.prototype.toJSON!=="function")String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,p,C={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof JSON.stringify!=="function")JSON.stringify=
function(n,i,g){var j;p=l="";if(typeof g==="number")for(j=0;j<g;j+=1)p+=" ";else if(typeof g==="string")p=g;if((s=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw Error("JSON.stringify");return t("",{"":n})};if(typeof JSON.parse!=="function")JSON.parse=function(n){return eval("("+n+")")}}();
window.PUBNUB||function(){function q(){return"x"+ ++y+""+ +new Date}function t(a){return document.getElementById(a)}function m(a){console.log(a)}function l(a){var b=[];p(a.split(/\s+/),function(c){p(document.getElementsByTagName(c),function(d){b.push(d)})});return b}function p(a,b){if(a&&b)if(typeof a[0]!="undefined")for(var c=0,d=a.length;c<d;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function C(a,b){var c=[];p(a||[],function(d,h){c.push(b(d,
h))});return c}function s(a,b,c){p(a.split(","),function(d){function h(f){if(!f)f=window.event;if(!c(f)){f.cancelBubble=true;f.returnValue=false;f.preventDefault&&f.preventDefault();f.stopPropagation&&f.stopPropagation()}}if(b.addEventListener)b.addEventListener(d,h,false);else if(b.attachEvent)b.attachEvent("on"+d,h);else b["on"+d]=h})}function n(){return l("head")[0]}function i(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function g(a){return document.createElement(a)}
function j(a){return C((""+a).split(""),function(b){return" ~`!@#$%^&*()+=[]\\{}|;':\",./<>?".indexOf(b)>-1?"%"+b.charCodeAt(0).toString(16).toUpperCase():b}).join("")}function k(a){function b(A,D){if(!f){f=1;A||B(D);c.onerror=null;clearTimeout(v);setTimeout(function(){A&&z();var H=t(h),K=H&&H.parentNode;K&&K.removeChild(H)},1E3)}}if(w)return x(a);var c=g("script"),d=a.c,h=q(),f=0,v=setTimeout(function(){b(1)},I),z=a.a||u(),B=a.b||u();window[d]=function(A){b(0,A)};c[e]=e;c.onerror=function(){b(1)};
c.src=a.url.join(L);i(c,"id",h);n().appendChild(c);return b}function x(a){function b(D){if(!h){h=1;clearTimeout(v);if(d){d.onerror=d.onload=null;d.abort&&d.abort();d=null}D&&z()}}function c(){if(!f){f=1;clearTimeout(v);try{response=JSON.parse(d.responseText)}catch(D){return b(1)}B(response)}}var d,h=0,f=0,v=setTimeout(function(){b(1)},I),z=a.a||u(),B=a.b||u();try{d=window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest;d.onerror=function(){b(1)};d.onload=c;d.timeout=I;d.open("GET",a.url.join(L),
true);d.send()}catch(A){b(0);w=0;return k(a)}return b}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||u());var y=1,o=/\$?{([\w\-]+)}/g,e="async",L="/",I=14E4,w=1,E=t("pubnub"),M=i(E,"pub-key")||"demo",F=i(E,"sub-key")||"demo",N=i(E,"ssl")=="on"?"s":"",G="http"+N+"://"+(i(E,"origin")||"pubsub.pubnub.com"),O=0,P=[],r={},J={history:function(a,b){b=a.callback||b;var c=a.limit||100,d=a.channel,h=w?0:q();if(!d)return m("Missing Channel");if(!b)return m("Missing Callback");
k({c:h,url:[G,"history",F,j(d),h,c],b:function(f){b(f)},a:function(f){m(f)}})},time:function(a){var b=w?0:q();k({c:b,url:[G,"time",b],b:function(c){a(c[0])},a:function(){a(0)}})},uuid:function(a){var b=w?0:q();k({c:b,url:["http"+N+"://pubnub-prod.appspot.com/uuid?callback="+b],b:function(c){a(c[0])},a:function(){a(0)}})},publish:function(a,b){b=b||a.callback||u();var c=a.message,d=a.channel,h=w?0:q();if(!c)return m("Missing Message");if(!d)return m("Missing Channel");if(!M)return m("Missing Publish Key");
c=JSON.stringify(c);if(c.length>1800)return m("Message Too Big");k({c:h,b:function(f){b(f)},a:function(){b([0,"Disconnected"])},url:[G,"publish",M,F,0,j(d),h,j(c)]})},unsubscribe:function(a){a=a.channel;if(a in r){r[a].d=0;r[a].e&&r[a].e(0)}},subscribe:function(a,b){function c(){var v=w?0:q();if(r[d].d)r[d].e=k({c:v,url:[G,"subscribe",F,j(d),v,h],a:function(){setTimeout(c,1E3);f()},b:function(z){if(r[d].d){h=z[1];setTimeout(c,10);p(z[0],function(B){b(B)})}}})}if(!O)return P.push([a,b]);var d=a.channel;
b=b||a.callback;var h=0,f=a.error||u();if(!d)return m("Missing Channel");if(!b)return m("Missing Callback");if(!F)return m("Missing Subscribe Key");d in r||(r[d]={});if(r[d].d)return m("Already Connected");r[d].d=1;c()},xdr:k,each:p,map:C,css:function(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>0&&typeof b[c]=="number"?"px":"")}catch(d){}},$:t,create:g,bind:s,supplant:function(a,b){return a.replace(o,function(c,d){return""+b[d]||""})},head:n,
search:l,attr:i,now:q};s("load",window,function(){setTimeout(function(){O=1;p(P,function(a){J.subscribe(a[0],a[1])})},1E3)});window.jQuery&&(window.jQuery.PUBNUB=J);window.PUBNUB=J}();
