function w(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function u(k){return k<10?"0"+k:k}function x(k){y.lastIndex=0;return y.test(k)?'"'+k.replace(y,function(n){var f=C[n];return typeof f==="string"?f:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+k+'"'}function l(k,n){var f,j,r,z,A=h,m,g=n[k];if(g&&typeof g==="object"&&typeof g.toJSON==="function")g=g.toJSON(k);if(typeof o==="function")g=o.call(n,k,g);switch(typeof g){case "string":return x(g);case "number":return isFinite(g)?String(g):
"null";case "boolean":case "null":return String(g);case "object":if(!g)return"null";h+=v;m=[];if(Object.prototype.toString.apply(g)==="[object Array]"){z=g.length;for(f=0;f<z;f+=1)m[f]=l(f,g)||"null";r=m.length===0?"[]":h?"[\n"+h+m.join(",\n"+h)+"\n"+A+"]":"["+m.join(",")+"]";h=A;return r}if(o&&typeof o==="object"){z=o.length;for(f=0;f<z;f+=1){j=o[f];if(typeof j==="string")if(r=l(j,g))m.push(x(j)+(h?": ":":")+r)}}else for(j in g)if(Object.hasOwnProperty.call(g,j))if(r=l(j,g))m.push(x(j)+(h?": ":":")+
r);r=m.length===0?"{}":h?"{\n"+h+m.join(",\n"+h)+"\n"+A+"}":"{"+m.join(",")+"}";h=A;return r}}window.JSON||(window.JSON={});if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+u(this.getUTCMonth()+1)+"-"+u(this.getUTCDate())+"T"+u(this.getUTCHours())+":"+u(this.getUTCMinutes())+":"+u(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var y=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,v,C={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof JSON.stringify!=="function")JSON.stringify=function(k,n,f){var j;v=h="";if(typeof f==="number")for(j=0;j<f;j+=1)v+=" ";else if(typeof f==="string")v=f;if((o=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return l("",
{"":k})};if(typeof JSON.parse!=="function")JSON.parse=function(k){return eval("("+k+")")}}();
window.PUBNUB||function(){function u(){return++z+""+ +new Date}function x(a){return document.getElementById(a)}function l(a){console.log(a)}function y(a){var b=[];h(a.split(/\s+/),function(c){h(document.getElementsByTagName(c),function(d){b.push(d)})});return b}function h(a,b){if(a&&b)if(typeof a[0]!="undefined")for(var c=0,d=a.length;c<d;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function v(a,b,c){h(a.split(","),function(d){function i(e){if(!e)e=
window.event;if(!c(e)){e.cancelBubble=true;e.returnValue=false;e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation()}}if(b.addEventListener)b.addEventListener(d,i,false);else if(b.attachEvent)b.attachEvent("on"+d,i);else b["on"+d]=i})}function C(){return y("head")[0]}function o(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function k(a){return document.createElement(a)}function n(a,b){return setTimeout(a,b)}function f(){return F?0:"x"+u()}function j(a){if(F)return r(a);
var b=k("script"),c=a.c,d=25,i=setTimeout(function(){p(1)},a.timeout||2E5),e=a.a||w(),q=a.b||w();function B(){n(function(){try{var s=C(),G=s.firstChild;G?s.insertBefore(b,G):s.appendChild(b)}catch(N){B()}},d*=2)}function p(s){clearTimeout(i);if(b){s&&e.call(s,b,unescape(b.src));b.onerror=null;try{C().removeChild(b)}catch(G){}}}b[m]=m;window[c]=function(s){if(!s)return p(1);q.call(b,s);window[c]=null;p(0)};v("error",b,function(){p(1)});b.src=a.url.join(g);B();return p}function r(a){var b,c=a.a||w(),
d=a.b||w(),i,e=0,q=setInterval(function(){if(b&&b.readyState==4&&!e){var p=b.status;e=1;if(q){clearInterval(q);q=null}if((p>=200&&p<300||p==304||p==1223)&&b.responseText){try{i=JSON.parse(b.responseText)}catch(s){i=0;c(b)}i&&d(i)}else c(b);b=null}},20);try{b=new XMLHttpRequest;b.open("GET",a.url.join(g),true);b.send()}catch(B){F=0;q&&clearInterval(q);return j(a)}return function(){e=1;b&&b.abort&&b.abort()}}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||
{}).postError||w());var z=1,A=/\$?{([\w\-]+)}/g,m="async",g="/",F=1,H=x("pubnub"),J=o(H,"pub-key")||"demo",D=o(H,"sub-key")||"demo",K=o(H,"ssl")=="on"?"s":"",E="http"+K+"://pubsub.pubnub.com",L=0,M=[],t={},I={history:function(a,b){b=a.callback||b;var c=a.limit||100,d=a.channel,i=f();if(!d)return l("Missing Channel");if(!b)return l("Missing Callback");j({c:i,url:[E,"history",D,escape(d),i,c],b:function(e){b(e.messages)},a:function(e){l(e)}})},time:function(a){var b=f();j({c:b,url:[E,"time",b],b:function(c){a(c.time[0])},
a:function(){a(0)}})},uuid:function(a){var b=f();j({c:b,url:["http"+K+"://www.pubnub.com/uuid?callback="+b],b:function(c){a(c[0])},a:function(){a(0)}})},publish:function(a,b){b=b||a.callback||w();var c=a.message,d=a.channel,i=f();function e(q){b(q[0])}if(!c)return l("Missing Message");if(!d)return l("Missing Channel");if(!J)return l("Missing Publish Key");c=JSON.stringify(c);if(c.length>1800)return l("Message Too Big");j({c:i,url:[E,"publish",J,D,0,escape(d),i,escape(c)],b:e,a:e})},unsubscribe:function(a){a=
a.channel;if(a in t){t[a].d=0;t[a].e&&t[a].e(0)}},subscribe:function(a,b){function c(){var q=f();t[d].d&&j({c:q,url:[E,"subscribe",D,escape(d),q,i],a:function(){setTimeout(c,1E3);e()},b:function(B){i=B[1];c();h(B[0],function(p){b(p)})}})}if(!L)return M.push([a,b]);var d=a.channel;b=b||a.callback;var i=0,e=a.error||w();if(!d)return l("Missing Channel");if(!b)return l("Missing Callback");if(!D)return l("Missing Subscribe Key");d in t||(t[d]={});if(t[d].d)return l("Already Connected");t[d].d=1;c()},
xdr:j,each:h,map:function(a,b){var c=[];h(a||[],function(d,i){c.push(b(d,i))});return c},css:function(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>0?"px":"")}catch(d){}},$:x,create:k,bind:v,supplant:function(a,b){return a.replace(A,function(c,d){return""+b[d]||""})},head:C,search:y,attr:o,now:u};v("load",window,function(){setTimeout(function(){L=1;h(M,function(a){I.subscribe(a[0],a[1])})},200)});window.jQuery&&(window.jQuery.PUBNUB=I);window.PUBNUB=
I}();
