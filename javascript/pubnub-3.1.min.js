function z(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function F(q){A.lastIndex=0;return A.test(q)?'"'+q.replace(A,function(r){var j=x[r];return typeof j==="string"?j:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+q+'"'}function B(q,r){var j,n,t,C,u=g,o,f=r[q];if(f&&typeof f==="object"&&typeof f.toJSON==="function")f=f.toJSON(q);if(typeof v==="function")f=v.call(r,q,f);switch(typeof f){case "string":return F(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";g+=D;o=[];if(Object.prototype.toString.apply(f)==="[object Array]"){C=f.length;for(j=0;j<C;j+=1)o[j]=B(j,f)||"null";t=o.length===0?"[]":g?"[\n"+g+o.join(",\n"+g)+"\n"+u+"]":"["+o.join(",")+"]";g=u;return t}if(v&&typeof v==="object"){C=v.length;for(j=0;j<C;j+=1){n=v[j];if(typeof n==="string")if(t=B(n,f))o.push(F(n)+(g?": ":":")+t)}}else for(n in f)if(Object.hasOwnProperty.call(f,n))if(t=B(n,f))o.push(F(n)+(g?": ":":")+t);t=o.length===0?"{}":g?"{\n"+g+o.join(",\n"+g)+
"\n"+u+"}":"{"+o.join(",")+"}";g=u;return t}}window.JSON||(window.JSON={});if(typeof String.prototype.toJSON!=="function")String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var A=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,D,x={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;if(typeof JSON.stringify!=="function")JSON.stringify=
function(q,r,j){var n;D=g="";if(typeof j==="number")for(n=0;n<j;n+=1)D+=" ";else if(typeof j==="string")D=j;if((v=r)&&typeof r!=="function"&&(typeof r!=="object"||typeof r.length!=="number"))throw Error("JSON.stringify");return B("",{"":q})};if(typeof JSON.parse!=="function")JSON.parse=function(q){return eval("("+q+")")}}();
window.PUBNUB||function(){function F(a){var b={},c=a.publish_key||"demo",d=a.subscribe_key||"demo",p=a.ssl?"s":"",k="http"+p+"://"+(a.origin||"pubsub.pubnub.com"),E={history:function(e,h){h=e.callback||h;var i=e.limit||100,m=e.channel,s=u();if(!m)return g("Missing Channel");if(!h)return g("Missing Callback");f({c:s,url:[k,"history",d,o(m),s,i],b:function(w){h(w)},a:function(w){g(w)}})},time:function(e){var h=u();f({c:h,url:[k,"time",h],b:function(i){e(i[0])},a:function(){e(0)}})},uuid:function(e){var h=
u();f({c:h,url:["http"+p+"://pubnub-prod.appspot.com/uuid?callback="+h],b:function(i){e(i[0])},a:function(){e(0)}})},publish:function(e,h){h=h||e.callback||z();var i=e.message,m=e.channel,s=u();if(!i)return g("Missing Message");if(!m)return g("Missing Channel");if(!c)return g("Missing Publish Key");i=JSON.stringify(i);i=[k,"publish",c,d,0,o(m),s,o(i)];if(i.join().length>1800)return g("Message Too Big");f({c:s,b:function(w){h(w)},a:function(){h([0,"Disconnected"])},url:i})},unsubscribe:function(e){e=
e.channel;if(e in b){b[e].d=0;b[e].e&&b[e].e(0)}},subscribe:function(e,h){function i(){var M=u();if(b[m].d)b[m].e=f({c:M,url:[k,"subscribe",d,o(m),M,s],a:function(){setTimeout(i,1E3);w()},b:function(N){if(b[m].d){s=N[1];setTimeout(i,10);x(N[0],function(T){h(T)})}}})}if(!H)return O.push([e,h,E]);var m=e.channel;h=h||e.callback;var s=0,w=e.error||z();if(!m)return g("Missing Channel");if(!h)return g("Missing Callback");if(!d)return g("Missing Subscribe Key");m in b||(b[m]={});if(b[m].d)return g("Already Connected");
b[m].d=1;i()},each:x,map:v,css:t,$:A,create:C,bind:r,supplant:q,head:j,search:D,attr:n,now:B,init:F};return E}function B(){return"x"+ ++U+""+ +new Date}function A(a){return document.getElementById(a)}function g(a){console.log(a)}function D(a){var b=[];x(a.split(/\s+/),function(c){x(document.getElementsByTagName(c),function(d){b.push(d)})});return b}function x(a,b){if(a&&b){var c;if(typeof a[0]!="undefined"){c=0;for(l=a.length;c<l;)b.call(a[c],a[c],c++)}else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&
b.call(a[c],c,a[c])}}function v(a,b){var c=[];x(a||[],function(d,p){c.push(b(d,p))});return c}function q(a,b){return a.replace(V,function(c,d){return""+b[d]||""})}function r(a,b,c){x(a.split(","),function(d){function p(k){if(!k)k=window.event;if(!c(k)){k.cancelBubble=true;k.returnValue=false;k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation()}}if(b.addEventListener)b.addEventListener(d,p,false);else if(b.attachEvent)b.attachEvent("on"+d,p);else b["on"+d]=p})}function j(){return D("head")[0]}
function n(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function t(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>0&&typeof b[c]=="number"?"px":"")}catch(d){}}function C(a){return document.createElement(a)}function u(){return I||y()?0:B()}function o(a){return v(encodeURIComponent(a).split(""),function(b){return"-_.!~*'()".indexOf(b)<0?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}function f(a){function b(i,
m){if(!k){k=1;i||h(m);c.onerror=null;clearTimeout(E);setTimeout(function(){i&&e();var s=A(p),w=s&&s.parentNode;w&&w.removeChild(s)},1E3)}}if(I||y())return W(a);var c=C("script"),d=a.c,p=B(),k=0,E=setTimeout(function(){b(1)},J),e=a.a||z(),h=a.b||z();window[d]=function(i){b(0,i)};c[P]=P;c.onerror=function(){b(1)};c.src=a.url.join(Q);n(c,"id",p);j().appendChild(c);return b}function W(a){function b(m){if(!p){p=1;clearTimeout(E);if(d){d.onerror=d.onload=null;d.abort&&d.abort();d=null}m&&e()}}function c(){if(!k){k=
1;clearTimeout(E);try{response=JSON.parse(d.responseText)}catch(m){return b(1)}h(response)}}var d,p=0,k=0,E=setTimeout(function(){b(1)},J),e=a.a||z(),h=a.b||z();try{d=y()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest;d.onerror=function(){b(1)};d.onload=c;d.timeout=J;d.open("GET",a.url.join(Q),true);d.send()}catch(i){b(0);I=0;return f(a)}return b}function R(a){a&&clearInterval(a);if(!H){H=1;x(O,function(b){b[2].subscribe(b[0],b[1])})}}function y(){if(!K.get)return 0;if(navigator.userAgent.indexOf("Firefox")>
0)return 0;var a={id:y.id++,send:z(),abort:function(){a.id={}},open:function(b,c){y[a.id]=a;K.get(a.id,c)}};return a}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||z());var U=1,V=/{([\w\-]+)}/g,P="async",Q="/",J=14E4,I=1,G=A("pubnub"),H=0,O=[],L=F({publish_key:n(G,"pub-key"),subscribe_key:n(G,"sub-key"),ssl:n(G,"ssl")=="on",origin:n(G,"origin")});r("load",window,function(){setTimeout(R,1E3)});var S=!location.href.indexOf("https")?"https://pubnub.s3.amazonaws.com/pubnub.swf":
"http://cdn.pubnub.com/pubnub.swf";t(G,{position:"absolute",top:-1E3});G.innerHTML="<object id=pubnubs type=application/x-shockwave-flash width=1 height=1 data="+S+"><param name=movie value="+S+" /><param name=allowscriptaccess value=always /></object>";var K=A("pubnubs")||{},X=setInterval(function(){K.get&&R(X)},100);L.rdx=function(a,b){if(!b)return y[a].onerror();y[a].responseText=unescape(b);y[a].onload()};y.id=1E3;window.jQuery&&(window.jQuery.PUBNUB=L);window.PUBNUB=L}();
