function w(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function E(p){z.lastIndex=0;return z.test(p)?'"'+p.replace(z,function(q){var k=x[q];return typeof k==="string"?k:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function A(p,q){var k,m,s,B,t=i,o,f=q[p];if(f&&typeof f==="object"&&typeof f.toJSON==="function")f=f.toJSON(p);if(typeof u==="function")f=u.call(q,p,f);switch(typeof f){case "string":return E(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";i+=C;o=[];if(Object.prototype.toString.apply(f)==="[object Array]"){B=f.length;for(k=0;k<B;k+=1)o[k]=A(k,f)||"null";s=o.length===0?"[]":i?"[\n"+i+o.join(",\n"+i)+"\n"+t+"]":"["+o.join(",")+"]";i=t;return s}if(u&&typeof u==="object"){B=u.length;for(k=0;k<B;k+=1){m=u[k];if(typeof m==="string")if(s=A(m,f))o.push(E(m)+(i?": ":":")+s)}}else for(m in f)if(Object.hasOwnProperty.call(f,m))if(s=A(m,f))o.push(E(m)+(i?": ":":")+s);s=o.length===0?"{}":i?"{\n"+i+o.join(",\n"+i)+
"\n"+t+"}":"{"+o.join(",")+"}";i=t;return s}}window.JSON||(window.JSON={});if(typeof String.prototype.toJSON!=="function")String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var z=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,C,x={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=
function(p,q,k){var m;C=i="";if(typeof k==="number")for(m=0;m<k;m+=1)C+=" ";else if(typeof k==="string")C=k;if((u=q)&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number"))throw Error("JSON.stringify");return A("",{"":p})};if(typeof JSON.parse!=="function")JSON.parse=function(p){return eval("("+p+")")}}();
window.PUBNUB||function(){function E(a){var b={},c=a.publish_key||"demo",e=a.subscribe_key||"demo",n=a.ssl?"s":"",l="http"+n+"://"+(a.origin||"pubsub.pubnub.com"),D={history:function(d,g){g=d.callback||g;var h=d.limit||100,j=d.channel,r=t();if(!j)return i("Missing Channel");if(!g)return i("Missing Callback");f({c:r,url:[l,"history",e,o(j),r,h],b:function(v){g(v)},a:function(v){i(v)}})},time:function(d){var g=t();f({c:g,url:[l,"time",g],b:function(h){d(h[0])},a:function(){d(0)}})},uuid:function(d){var g=
t();f({c:g,url:["http"+n+"://pubnub-prod.appspot.com/uuid?callback="+g],b:function(h){d(h[0])},a:function(){d(0)}})},analytics:function(d){var g=t(),h=d.callback;f({c:g,b:function(j){h(j)},a:function(){h(0)},url:[["http"+n+"://pubnub-prod.appspot.com/analytics-channel?callback="+g,"key="+e,"channel="+(d.channel||""),"limit="+(d.limit||100),"ago="+(d.ago||0),"duration="+(d.duration||100)].join("&")]})},publish:function(d,g){g=g||d.callback||w();var h=d.message,j=d.channel,r=t();if(!h)return i("Missing Message");
if(!j)return i("Missing Channel");if(!c)return i("Missing Publish Key");h=JSON.stringify(h);h=[l,"publish",c,e,0,o(j),r,o(h)];if(h.join().length>1800)return i("Message Too Big");f({c:r,b:function(v){g(v)},a:function(){g([0,"Disconnected"])},url:h})},unsubscribe:function(d){d=d.channel;if(d in b){b[d].d=0;b[d].e&&b[d].e(0)}},subscribe:function(d,g){function h(){var L=t();if(b[j].d)b[j].e=f({c:L,url:[l,"subscribe",e,o(j),L,r],a:function(){setTimeout(h,1E3);v()},b:function(M){if(b[j].d){if(!N){N=1;T()}r=
M[1];setTimeout(h,10);x(M[0],function(U){g(U)})}}})}var j=d.channel;g=g||d.callback;var r=0,v=d.error||w(),N=0,T=d.connect||w();if(!G)return O.push([d,g,D]);if(!j)return i("Missing Channel");if(!g)return i("Missing Callback");if(!e)return i("Missing Subscribe Key");j in b||(b[j]={});if(b[j].d)return i("Already Connected");b[j].d=1;h()},each:x,map:u,css:s,$:z,create:B,bind:q,supplant:p,head:k,search:C,attr:m,now:A,init:E};return D}function A(){return"x"+ ++V+""+ +new Date}function z(a){return document.getElementById(a)}
function i(a){console.log(a)}function C(a,b){var c=[];x(a.split(/\s+/),function(e){x((b||document).getElementsByTagName(e),function(n){c.push(n)})});return c}function x(a,b){if(a&&b)if(typeof a[0]!="undefined")for(var c=0,e=a.length;c<e;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function u(a,b){var c=[];x(a||[],function(e,n){c.push(b(e,n))});return c}function p(a,b){return a.replace(W,function(c,e){return b[e]||c})}function q(a,b,c){x(a.split(","),
function(e){function n(l){if(!l)l=window.event;if(!c(l)){l.cancelBubble=true;l.returnValue=false;l.preventDefault&&l.preventDefault();l.stopPropagation&&l.stopPropagation()}}if(b.addEventListener)b.addEventListener(e,n,false);else if(b.attachEvent)b.attachEvent("on"+e,n);else b["on"+e]=n})}function k(){return C("head")[0]}function m(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function s(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>
0&&typeof b[c]=="number"?"px":"")}catch(e){}}function B(a){return document.createElement(a)}function t(){return H||y()?0:A()}function o(a){return u(encodeURIComponent(a).split(""),function(b){return"-_.!~*'()".indexOf(b)<0?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}function f(a){function b(h,j){if(!l){l=1;h||g(j);c.onerror=null;clearTimeout(D);setTimeout(function(){h&&d();var r=z(n),v=r&&r.parentNode;v&&v.removeChild(r)},1E3)}}if(H||y())return X(a);var c=B("script"),e=a.c,n=A(),l=
0,D=setTimeout(function(){b(1)},I),d=a.a||w(),g=a.b||w();window[e]=function(h){b(0,h)};c[P]=P;c.onerror=function(){b(1)};c.src=a.url.join(Q);m(c,"id",n);k().appendChild(c);return b}function X(a){function b(j){if(!n){n=1;clearTimeout(D);if(e){e.onerror=e.onload=null;e.abort&&e.abort();e=null}j&&d()}}function c(){if(!l){l=1;clearTimeout(D);try{response=JSON.parse(e.responseText)}catch(j){return b(1)}g(response)}}var e,n=0,l=0,D=setTimeout(function(){b(1)},I),d=a.a||w(),g=a.b||w();try{e=y()||window.XDomainRequest&&
new XDomainRequest||new XMLHttpRequest;e.onerror=function(){b(1)};e.onload=c;e.timeout=I;e.open("GET",a.url.join(Q),true);e.send()}catch(h){b(0);H=0;return f(a)}return b}function R(){clearInterval(Y);if(!G){G=1;x(O,function(a){a[2].subscribe(a[0],a[1])})}}function y(){if(!J.get)return 0;var a={id:y.id++,send:w(),abort:function(){a.id={}},open:function(b,c){y[a.id]=a;J.get(a.id,c)}};return a}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||
w());var V=1,W=/{([\w\-]+)}/g,P="async",Q="/",I=14E4,H=1,F=z("pubnub")||{},G=0,O=[],K=E({publish_key:m(F,"pub-key"),subscribe_key:m(F,"sub-key"),ssl:m(F,"ssl")=="on",origin:m(F,"origin")}),S=!location.href.indexOf("https")?"https://pubnub.s3.amazonaws.com/pubnub.swf":"http://cdn.pubnub.com/pubnub.swf";s(F,{position:"absolute",top:-1E3});navigator.userAgent.indexOf("Firefox")>0||navigator.userAgent.indexOf("MSIE 9")>0||(F.innerHTML="<object id=pubnubs type=application/x-shockwave-flash width=1 height=1 data="+
S+"><param name=movie value="+S+" /><param name=allowscriptaccess value=always /></object>");var J=z("pubnubs")||{},Y=setInterval(function(){!("chrome"in window)&&J.get&&R()},100);q("load",window,function(){setTimeout(R,1E3)});K.rdx=function(a,b){if(!b)return y[a].onerror();y[a].responseText=unescape(b);y[a].onload()};y.id=1E3;window.jQuery&&(window.jQuery.PUBNUB=K);window.PUBNUB=K}();
