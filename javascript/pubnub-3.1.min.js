function w(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function D(s){F.lastIndex=0;return F.test(s)?'"'+s.replace(F,function(v){var j=H[v];return typeof j==="string"?j:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function y(s,v){var j,q,r,A,B=m,n,g=v[s];if(g&&typeof g==="object"&&typeof g.toJSON==="function")g=g.toJSON(s);if(typeof o==="function")g=o.call(v,s,g);switch(typeof g){case "string":return D(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";m+=p;n=[];if(Object.prototype.toString.apply(g)==="[object Array]"){A=g.length;for(j=0;j<A;j+=1)n[j]=y(j,g)||"null";r=n.length===0?"[]":m?"[\n"+m+n.join(",\n"+m)+"\n"+B+"]":"["+n.join(",")+"]";m=B;return r}if(o&&typeof o==="object"){A=o.length;for(j=0;j<A;j+=1){q=o[j];if(typeof q==="string")if(r=y(q,g))n.push(D(q)+(m?": ":":")+r)}}else for(q in g)if(Object.hasOwnProperty.call(g,q))if(r=y(q,g))n.push(D(q)+(m?": ":":")+r);r=n.length===0?"{}":m?"{\n"+m+n.join(",\n"+m)+
"\n"+B+"}":"{"+n.join(",")+"}";m=B;return r}}window.JSON||(window.JSON={});if(typeof String.prototype.toJSON!=="function")String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var F=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,p,H={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof JSON.stringify!=="function")JSON.stringify=
function(s,v,j){var q;p=m="";if(typeof j==="number")for(q=0;q<j;q+=1)p+=" ";else if(typeof j==="string")p=j;if((o=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw Error("JSON.stringify");return y("",{"":s})};if(typeof JSON.parse!=="function")JSON.parse=function(s){return eval("("+s+")")}}();
window.PUBNUB||function(){function D(a){var b={},c=a.publish_key||"demo",d=a.subscribe_key||"demo",k=a.ssl?"s":"",l="http"+k+"://"+(a.origin||"pubsub.pubnub.com"),z={history:function(e,f){f=e.callback||f;var h=e.limit||100,i=e.channel,t=n();if(!i)return p("Missing Channel");if(!f)return p("Missing Callback");C({c:t,url:[l,"history",d,g(i),t,h],b:function(u){f(u)},a:function(u){p(u)}})},time:function(e){var f=n();C({c:f,url:[l,"time",f],b:function(h){e(h[0])},a:function(){e(0)}})},uuid:function(e){var f=
n();C({c:f,url:["http"+k+"://pubnub-prod.appspot.com/uuid?callback="+f],b:function(h){e(h[0])},a:function(){e(0)}})},analytics:function(e){var f=n(),h=e.limit||100,i=e.ago||0,t=e.duration||100,u=e.callback;C({c:f,b:function(I){u(I)},a:function(){u(0)},url:[["http"+k+"://pubnub-prod.appspot.com/analytics-channel?callback="+f,"sub-key="+d,"pub-key="+c,"channel="+g(e.channel||""),"limit="+h,"ago="+i,"duration="+t].join("&")]})},publish:function(e,f){f=f||e.callback||w();var h=e.message,i=e.channel,t=
n();if(!h)return p("Missing Message");if(!i)return p("Missing Channel");if(!c)return p("Missing Publish Key");h=JSON.stringify(h);h=[l,"publish",c,d,0,g(i),t,g(h)];if(h.join().length>1800)return p("Message Too Big");C({c:t,b:function(u){f(u)},a:function(){f([0,"Disconnected"])},url:h})},unsubscribe:function(e){e=e.channel;if(e in b){b[e].d=0;b[e].f&&b[e].f(0)}},subscribe:function(e,f){function h(){var Q=n();if(b[i].d)b[i].f=C({c:Q,url:[l,"subscribe",d,g(i),Q,t],a:function(){setTimeout(h,1E3);z.time(function(J){J||
u()})},b:function(J){if(b[i].d){if(!I){I=1;W()}t=J[1];setTimeout(h,10);o(J[0],function(X){f(X)})}}})}var i=e.channel;f=f||e.callback;var t=0,u=e.error||w(),I=0,W=e.connect||w();if(!L)return R.push([e,f,z]);if(!i)return p("Missing Channel");if(!f)return p("Missing Callback");if(!d)return p("Missing Subscribe Key");i in b||(b[i]={});if(b[i].d)return p("Already Connected");b[i].d=1;h()},each:o,map:s,css:A,$:m,create:B,bind:j,supplant:v,head:q,search:H,attr:r,now:y,events:G,updater:F,init:D};return z}
function y(){return"x"+ ++Y+""+ +new Date}function F(a,b){function c(){if(k+b>+new Date){clearTimeout(d);d=setTimeout(c,b)}else{k=+new Date;a()}}var d,k=0;return c}function m(a){return document.getElementById(a)}function p(a){console.log(a)}function H(a,b){var c=[];o(a.split(/\s+/),function(d){o((b||document).getElementsByTagName(d),function(k){c.push(k)})});return c}function o(a,b){if(a&&b)if(typeof a[0]!="undefined")for(var c=0,d=a.length;c<d;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&
a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function s(a,b){var c=[];o(a||[],function(d,k){c.push(b(d,k))});return c}function v(a,b){return a.replace(Z,function(c,d){return b[d]||c})}function j(a,b,c){o(a.split(","),function(d){function k(l){if(!l)l=window.event;if(!c(l)){l.cancelBubble=true;l.returnValue=false;l.preventDefault&&l.preventDefault();l.stopPropagation&&l.stopPropagation()}}if(b.addEventListener)b.addEventListener(d,k,false);else if(b.attachEvent)b.attachEvent("on"+d,k);else b["on"+d]=k})}
function q(){return H("head")[0]}function r(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function A(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>0&&typeof b[c]=="number"?"px":"")}catch(d){}}function B(a){return document.createElement(a)}function n(){return M||x()?0:y()}function g(a){return s(encodeURIComponent(a).split(""),function(b){return"-_.!~*'()".indexOf(b)<0?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}
function C(a){function b(h,i){if(!l){l=1;h||f(i);c.onerror=null;clearTimeout(z);setTimeout(function(){h&&e();var t=m(k),u=t&&t.parentNode;u&&u.removeChild(t)},1E3)}}if(M||x())return $(a);var c=B("script"),d=a.c,k=y(),l=0,z=setTimeout(function(){b(1)},N),e=a.a||w(),f=a.b||w();window[d]=function(h){b(0,h)};c[S]=S;c.onerror=function(){b(1)};c.src=a.url.join(T);r(c,"id",k);q().appendChild(c);return b}function $(a){function b(i){if(!k){k=1;clearTimeout(z);if(d){d.onerror=d.onload=null;d.abort&&d.abort();
d=null}i&&e()}}function c(){if(!l){l=1;clearTimeout(z);try{response=JSON.parse(d.responseText)}catch(i){return b(1)}f(response)}}var d,k=0,l=0,z=setTimeout(function(){b(1)},N),e=a.a||w(),f=a.b||w();try{d=x()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest;d.onerror=function(){b(1)};d.onload=c;d.timeout=N;d.open("GET",a.url.join(T),true);d.send()}catch(h){b(0);M=0;return C(a)}return b}function U(){clearInterval(aa);if(!L){L=1;o(R,function(a){a[2].subscribe(a[0],a[1])})}}function x(){if(!O.get)return 0;
var a={id:x.id++,send:w(),abort:function(){a.id={}},open:function(b,c){x[a.id]=a;O.get(a.id,c)}};return a}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||w());var Y=1,Z=/{([\w\-]+)}/g,S="async",T="/",N=14E4,K=navigator.userAgent,M=K.indexOf("MSIE 6")==-1,G={e:{},i:function(a){G.e[a]=[]},g:function(a,b){(G.e[a]=G.e[a]||[]).push(b)},h:function(a,b){o(G.e[a]||[],function(c){c(b)})}},E=m("pubnub")||{},L=0,R=[],P=D({publish_key:r(E,"pub-key"),
subscribe_key:r(E,"sub-key"),ssl:r(E,"ssl")=="on",origin:r(E,"origin")}),V=!location.href.indexOf("https")?"https://pubnub.s3.amazonaws.com/pubnub.swf":"http://cdn.pubnub.com/pubnub.swf";A(E,{position:"absolute",top:-1E3});K.indexOf("Firefox")>0||K.indexOf("MSIE 9")>0||K.indexOf("MSIE 6")>0||(E.innerHTML="<object id=pubnubs type=application/x-shockwave-flash width=1 height=1 data="+V+"><param name=movie value="+V+" /><param name=allowscriptaccess value=always /></object>");var O=m("pubnubs")||{},
aa=setInterval(function(){!("chrome"in window)&&O.get&&U()},100);j("load",window,function(){setTimeout(U,1E3)});P.rdx=function(a,b){if(!b)return x[a].onerror();x[a].responseText=unescape(b);x[a].onload()};x.id=1E3;window.jQuery&&(window.jQuery.PUBNUB=P);window.PUBNUB=P}();
