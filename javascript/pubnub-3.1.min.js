function y(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function E(p){z.lastIndex=0;return z.test(p)?'"'+p.replace(z,function(q){var j=w[q];return typeof j==="string"?j:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function A(p,q){var j,m,s,B,t=g,n,f=q[p];if(f&&typeof f==="object"&&typeof f.toJSON==="function")f=f.toJSON(p);if(typeof u==="function")f=u.call(q,p,f);switch(typeof f){case "string":return E(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";g+=C;n=[];if(Object.prototype.toString.apply(f)==="[object Array]"){B=f.length;for(j=0;j<B;j+=1)n[j]=A(j,f)||"null";s=n.length===0?"[]":g?"[\n"+g+n.join(",\n"+g)+"\n"+t+"]":"["+n.join(",")+"]";g=t;return s}if(u&&typeof u==="object"){B=u.length;for(j=0;j<B;j+=1){m=u[j];if(typeof m==="string")if(s=A(m,f))n.push(E(m)+(g?": ":":")+s)}}else for(m in f)if(Object.hasOwnProperty.call(f,m))if(s=A(m,f))n.push(E(m)+(g?": ":":")+s);s=n.length===0?"{}":g?"{\n"+g+n.join(",\n"+g)+
"\n"+t+"}":"{"+n.join(",")+"}";g=t;return s}}window.JSON||(window.JSON={});if(typeof String.prototype.toJSON!=="function")String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var z=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,C,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=
function(p,q,j){var m;C=g="";if(typeof j==="number")for(m=0;m<j;m+=1)C+=" ";else if(typeof j==="string")C=j;if((u=q)&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number"))throw Error("JSON.stringify");return A("",{"":p})};if(typeof JSON.parse!=="function")JSON.parse=function(p){return eval("("+p+")")}}();
window.PUBNUB||function(){function E(a){var b={},c=a.publish_key||"demo",d=a.subscribe_key||"demo",o=a.ssl?"s":"",k="http"+o+"://"+(a.origin||"pubsub.pubnub.com"),D={history:function(e,h){h=e.callback||h;var i=e.limit||100,l=e.channel,r=t();if(!l)return g("Missing Channel");if(!h)return g("Missing Callback");f({c:r,url:[k,"history",d,n(l),r,i],b:function(v){h(v)},a:function(v){g(v)}})},time:function(e){var h=t();f({c:h,url:[k,"time",h],b:function(i){e(i[0])},a:function(){e(0)}})},uuid:function(e){var h=
t();f({c:h,url:["http"+o+"://pubnub-prod.appspot.com/uuid?callback="+h],b:function(i){e(i[0])},a:function(){e(0)}})},publish:function(e,h){h=h||e.callback||y();var i=e.message,l=e.channel,r=t();if(!i)return g("Missing Message");if(!l)return g("Missing Channel");if(!c)return g("Missing Publish Key");i=JSON.stringify(i);i=[k,"publish",c,d,0,n(l),r,n(i)];if(i.join().length>1800)return g("Message Too Big");f({c:r,b:function(v){h(v)},a:function(){h([0,"Disconnected"])},url:i})},unsubscribe:function(e){e=
e.channel;if(e in b){b[e].d=0;b[e].e&&b[e].e(0)}},subscribe:function(e,h){function i(){var L=t();if(b[l].d)b[l].e=f({c:L,url:[k,"subscribe",d,n(l),L,r],a:function(){setTimeout(i,1E3);v()},b:function(M){if(b[l].d){r=M[1];setTimeout(i,10);w(M[0],function(S){h(S)})}}})}var l=e.channel;h=h||e.callback;var r=0,v=e.error||y();if(!G)return N.push([e,h,D]);if(!l)return g("Missing Channel");if(!h)return g("Missing Callback");if(!d)return g("Missing Subscribe Key");l in b||(b[l]={});if(b[l].d)return g("Already Connected");
b[l].d=1;i()},each:w,map:u,css:s,$:z,create:B,bind:q,supplant:p,head:j,search:C,attr:m,now:A,init:E};return D}function A(){return"x"+ ++T+""+ +new Date}function z(a){return document.getElementById(a)}function g(a){console.log(a)}function C(a){var b=[];w(a.split(/\s+/),function(c){w(document.getElementsByTagName(c),function(d){b.push(d)})});return b}function w(a,b){if(a&&b)if(typeof a[0]!="undefined")for(var c=0,d=a.length;c<d;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&
b.call(a[c],c,a[c])}function u(a,b){var c=[];w(a||[],function(d,o){c.push(b(d,o))});return c}function p(a,b){return a.replace(U,function(c,d){return""+b[d]||""})}function q(a,b,c){w(a.split(","),function(d){function o(k){if(!k)k=window.event;if(!c(k)){k.cancelBubble=true;k.returnValue=false;k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation()}}if(b.addEventListener)b.addEventListener(d,o,false);else if(b.attachEvent)b.attachEvent("on"+d,o);else b["on"+d]=o})}function j(){return C("head")[0]}
function m(a,b,c){if(c)a.setAttribute(b,c);else return a&&a.getAttribute&&a.getAttribute(b)}function s(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+("|width|height|top|left|".indexOf(c)>0&&typeof b[c]=="number"?"px":"")}catch(d){}}function B(a){return document.createElement(a)}function t(){return H||x()?0:A()}function n(a){return u(encodeURIComponent(a).split(""),function(b){return"-_.!~*'()".indexOf(b)<0?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}function f(a){function b(i,
l){if(!k){k=1;i||h(l);c.onerror=null;clearTimeout(D);setTimeout(function(){i&&e();var r=z(o),v=r&&r.parentNode;v&&v.removeChild(r)},1E3)}}if(H||x())return V(a);var c=B("script"),d=a.c,o=A(),k=0,D=setTimeout(function(){b(1)},I),e=a.a||y(),h=a.b||y();window[d]=function(i){b(0,i)};c[O]=O;c.onerror=function(){b(1)};c.src=a.url.join(P);m(c,"id",o);j().appendChild(c);return b}function V(a){function b(l){if(!o){o=1;clearTimeout(D);if(d){d.onerror=d.onload=null;d.abort&&d.abort();d=null}l&&e()}}function c(){if(!k){k=
1;clearTimeout(D);try{response=JSON.parse(d.responseText)}catch(l){return b(1)}h(response)}}var d,o=0,k=0,D=setTimeout(function(){b(1)},I),e=a.a||y(),h=a.b||y();try{d=x()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest;d.onerror=function(){b(1)};d.onload=c;d.timeout=I;d.open("GET",a.url.join(P),true);d.send()}catch(i){b(0);H=0;return f(a)}return b}function Q(a){a&&clearInterval(a);if(!G){G=1;w(N,function(b){b[2].subscribe(b[0],b[1])})}}function x(){if(!J.get)return 0;if(navigator.userAgent.indexOf("Firefox")>
0)return 0;var a={id:x.id++,send:y(),abort:function(){a.id={}},open:function(b,c){x[a.id]=a;J.get(a.id,c)}};return a}window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||y());var T=1,U=/{([\w\-]+)}/g,O="async",P="/",I=14E4,H=1,F=z("pubnub"),G=0,N=[],K=E({publish_key:m(F,"pub-key"),subscribe_key:m(F,"sub-key"),ssl:m(F,"ssl")=="on",origin:m(F,"origin")});q("load",window,function(){setTimeout(Q,1E3)});var R=!location.href.indexOf("https")?"https://pubnub.s3.amazonaws.com/pubnub.swf":
"http://cdn.pubnub.com/pubnub.swf";s(F,{position:"absolute",top:-1E3});F.innerHTML="<object id=pubnubs type=application/x-shockwave-flash width=1 height=1 data="+R+"><param name=movie value="+R+" /><param name=allowscriptaccess value=always /></object>";var J=z("pubnubs")||{},W=setInterval(function(){J.get&&Q(W)},100);K.rdx=function(a,b){if(!b)return x[a].onerror();x[a].responseText=unescape(b);x[a].onload()};x.id=1E3;window.jQuery&&(window.jQuery.PUBNUB=K);window.PUBNUB=K}();
